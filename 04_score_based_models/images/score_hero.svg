<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 600">
  <defs>
    <linearGradient id="bgMain" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0c29"/>
      <stop offset="50%" style="stop-color:#302b63"/>
      <stop offset="100%" style="stop-color:#24243e"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
  </defs>
  
  <rect width="1100" height="600" fill="url(#bgMain)"/>
  
  <!-- Title -->
  <text x="550" y="45" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="34" font-weight="300" fill="white" letter-spacing="2">
    SCORE-BASED GENERATIVE MODELS
  </text>
  <text x="550" y="75" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="14" fill="rgba(255,255,255,0.6)">
    Mathematical Foundation: Learn âˆ‡log p(x) instead of p(x)
  </text>
  
  <!-- Left: The Problem with Traditional Approach -->
  <g transform="translate(200, 300)">
    <rect x="-170" y="-170" width="340" height="340" rx="15" fill="rgba(239,68,68,0.06)" stroke="rgba(239,68,68,0.4)" stroke-width="2"/>
    <text x="0" y="-145" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="15" font-weight="600" fill="#ef4444">âŒ TRADITIONAL: Model p(x)</text>
    
    <!-- Energy-based model formulation -->
    <text x="0" y="-110" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="11" fill="rgba(255,255,255,0.6)">Energy-Based Model:</text>
    <text x="0" y="-85" text-anchor="middle" font-family="Georgia, serif" font-size="18" fill="white">
      p<tspan baseline-shift="sub" font-size="12">Î¸</tspan>(x) = exp(âˆ’E<tspan baseline-shift="sub" font-size="12">Î¸</tspan>(x)) / Z<tspan baseline-shift="sub" font-size="12">Î¸</tspan>
    </text>
    
    <!-- Partition function -->
    <rect x="-140" y="-65" width="280" height="55" rx="8" fill="rgba(239,68,68,0.12)" stroke="rgba(239,68,68,0.4)"/>
    <text x="0" y="-45" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">Partition Function (Intractable!):</text>
    <text x="0" y="-22" text-anchor="middle" font-family="Georgia, serif" font-size="16" fill="#ef4444">
      Z<tspan baseline-shift="sub" font-size="11">Î¸</tspan> = âˆ« exp(âˆ’E<tspan baseline-shift="sub" font-size="11">Î¸</tspan>(x)) dx
    </text>
    
    <!-- MLE gradient problem -->
    <text x="0" y="10" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">MLE Gradient:</text>
    <text x="0" y="32" text-anchor="middle" font-family="Georgia, serif" font-size="13" fill="white">
      âˆ‡<tspan baseline-shift="sub" font-size="9">Î¸</tspan>log p<tspan baseline-shift="sub" font-size="9">Î¸</tspan>(x) = âˆ’âˆ‡<tspan baseline-shift="sub" font-size="9">Î¸</tspan>E<tspan baseline-shift="sub" font-size="9">Î¸</tspan>(x) âˆ’ <tspan fill="#ef4444">âˆ‡<tspan baseline-shift="sub" font-size="9">Î¸</tspan>log Z<tspan baseline-shift="sub" font-size="9">Î¸</tspan></tspan>
    </text>
    
    <!-- Expectation form -->
    <text x="0" y="60" text-anchor="middle" font-family="Georgia, serif" font-size="12" fill="rgba(255,255,255,0.7)">
      = âˆ’âˆ‡<tspan baseline-shift="sub" font-size="8">Î¸</tspan>E<tspan baseline-shift="sub" font-size="8">Î¸</tspan>(x) + <tspan fill="#ef4444">E<tspan baseline-shift="sub" font-size="8">p<tspan baseline-shift="sub" font-size="6">Î¸</tspan></tspan>[âˆ‡<tspan baseline-shift="sub" font-size="8">Î¸</tspan>E<tspan baseline-shift="sub" font-size="8">Î¸</tspan>(x)]</tspan>
    </text>
    
    <!-- Problems list -->
    <g transform="translate(0, 100)" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.6)">
      <text x="-130" y="0" fill="#ef4444">âœ—</text><text x="-115" y="0">Expectation over p<tspan baseline-shift="sub" font-size="7">Î¸</tspan> requires MCMC</text>
      <text x="-130" y="18" fill="#ef4444">âœ—</text><text x="-115" y="18">High-dim integral: O(e<tspan baseline-shift="super" font-size="7">d</tspan>) complexity</text>
      <text x="-130" y="36" fill="#ef4444">âœ—</text><text x="-115" y="36">Slow mixing, mode collapse issues</text>
      <text x="-130" y="54" fill="#ef4444">âœ—</text><text x="-115" y="54">Cannot evaluate likelihood exactly</text>
    </g>
  </g>
  
  <!-- Arrow -->
  <g transform="translate(400, 300)">
    <line x1="0" y1="0" x2="50" y2="0" stroke="white" stroke-width="2" stroke-dasharray="6,3" opacity="0.4"/>
    <polygon points="55,-5 68,0 55,5" fill="rgba(255,255,255,0.5)"/>
  </g>
  
  <!-- Center: Score Function Solution -->
  <g transform="translate(550, 300)">
    <rect x="-170" y="-170" width="340" height="340" rx="15" fill="rgba(16,185,129,0.08)" stroke="rgba(16,185,129,0.5)" stroke-width="2"/>
    <text x="0" y="-145" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="15" font-weight="600" fill="#10b981">âœ“ SCORE-BASED: Model s(x)</text>
    
    <!-- Score definition -->
    <text x="0" y="-110" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="11" fill="rgba(255,255,255,0.6)">Score Function Definition:</text>
    <text x="0" y="-80" text-anchor="middle" font-family="Georgia, serif" font-size="20" fill="white" filter="url(#glow)">
      s(x) â‰œ âˆ‡<tspan baseline-shift="sub" font-size="13">x</tspan> log p(x)
    </text>
    
    <!-- Key derivation -->
    <rect x="-140" y="-55" width="280" height="80" rx="8" fill="rgba(16,185,129,0.12)" stroke="rgba(16,185,129,0.4)"/>
    <text x="0" y="-35" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">Why Z disappears:</text>
    <text x="0" y="-12" text-anchor="middle" font-family="Georgia, serif" font-size="13" fill="white">
      âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan> log p(x) = âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan> log(pÌƒ(x)/Z)
    </text>
    <text x="0" y="8" text-anchor="middle" font-family="Georgia, serif" font-size="13" fill="white">
      = âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan> log pÌƒ(x) âˆ’ <tspan fill="#10b981" text-decoration="line-through">âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan> log Z</tspan>
    </text>
    <text x="0" y="28" text-anchor="middle" font-family="Georgia, serif" font-size="13" fill="#10b981">
      = âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan> log pÌƒ(x)  <tspan fill="rgba(255,255,255,0.5)">(Z is constant w.r.t. x)</tspan>
    </text>
    
    <!-- For EBM -->
    <text x="0" y="55" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">For Energy-Based Models:</text>
    <text x="0" y="75" text-anchor="middle" font-family="Georgia, serif" font-size="14" fill="white">
      s(x) = âˆ’âˆ‡<tspan baseline-shift="sub" font-size="10">x</tspan>E(x)
    </text>
    
    <!-- Benefits -->
    <g transform="translate(0, 105)" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.6)">
      <text x="-130" y="0" fill="#10b981">âœ“</text><text x="-115" y="0">No partition function needed</text>
      <text x="-130" y="18" fill="#10b981">âœ“</text><text x="-115" y="18">Direct gradient computation</text>
      <text x="-130" y="36" fill="#10b981">âœ“</text><text x="-115" y="36">Sample via Langevin dynamics</text>
    </g>
  </g>
  
  <!-- Right: Sampling with Score -->
  <g transform="translate(900, 300)">
    <rect x="-170" y="-170" width="340" height="340" rx="15" fill="rgba(99,102,241,0.06)" stroke="rgba(99,102,241,0.4)" stroke-width="2"/>
    <text x="0" y="-145" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="15" font-weight="600" fill="#6366f1">ğŸ¯ LANGEVIN SAMPLING</text>
    
    <!-- Langevin SDE -->
    <text x="0" y="-110" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="11" fill="rgba(255,255,255,0.6)">Langevin Stochastic Differential Equation:</text>
    <text x="0" y="-82" text-anchor="middle" font-family="Georgia, serif" font-size="16" fill="white">
      dx = <tspan fill="#6366f1">Â½âˆ‡log p(x)</tspan>dt + dW<tspan baseline-shift="sub" font-size="11">t</tspan>
    </text>
    
    <!-- Discretized version -->
    <rect x="-140" y="-60" width="280" height="55" rx="8" fill="rgba(99,102,241,0.12)" stroke="rgba(99,102,241,0.4)"/>
    <text x="0" y="-42" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">Euler-Maruyama Discretization:</text>
    <text x="0" y="-18" text-anchor="middle" font-family="Georgia, serif" font-size="15" fill="white">
      x<tspan baseline-shift="sub" font-size="10">t+1</tspan> = x<tspan baseline-shift="sub" font-size="10">t</tspan> + <tspan fill="#6366f1">ÎµÂ·s(x<tspan baseline-shift="sub" font-size="8">t</tspan>)</tspan> + <tspan fill="#f59e0b">âˆš(2Îµ)Â·z<tspan baseline-shift="sub" font-size="8">t</tspan></tspan>
    </text>
    
    <!-- Component explanation -->
    <g transform="translate(0, 20)" font-family="'Segoe UI', sans-serif" font-size="10">
      <text x="-120" y="0" fill="#6366f1">â— Score term:</text><text x="-30" y="0" fill="rgba(255,255,255,0.6)">drift toward high prob</text>
      <text x="-120" y="18" fill="#f59e0b">â— Noise term:</text><text x="-30" y="18" fill="rgba(255,255,255,0.6)">z ~ N(0, I), exploration</text>
      <text x="-120" y="36" fill="rgba(255,255,255,0.5)">â— Step size:</text><text x="-30" y="36" fill="rgba(255,255,255,0.6)">Îµ controls convergence</text>
    </g>
    
    <!-- Convergence theorem -->
    <text x="0" y="85" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="10" fill="rgba(255,255,255,0.5)">Stationary Distribution:</text>
    <text x="0" y="105" text-anchor="middle" font-family="Georgia, serif" font-size="13" fill="white">
      lim<tspan baseline-shift="sub" font-size="9">tâ†’âˆ</tspan> p(x<tspan baseline-shift="sub" font-size="9">t</tspan>) = p(x)  <tspan font-family="'Segoe UI', sans-serif" font-size="10" fill="#10b981">(as Îµâ†’0)</tspan>
    </text>
    
    <!-- KL bound -->
    <text x="0" y="135" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="9" fill="rgba(255,255,255,0.4)">
      KL(p<tspan baseline-shift="sub" font-size="6">T</tspan> || p) â‰¤ O(Îµ) + O(e<tspan baseline-shift="super" font-size="6">âˆ’T</tspan>)
    </text>
  </g>
  
  <!-- Bottom: Mathematical Summary -->
  <g transform="translate(550, 550)">
    <rect x="-480" y="-35" width="960" height="65" rx="15" fill="rgba(0,0,0,0.5)" stroke="rgba(16,185,129,0.4)" stroke-width="1"/>
    
    <text x="-420" y="-8" font-family="'Segoe UI', sans-serif" font-size="11" font-weight="600" fill="#10b981">CORE EQUATIONS:</text>
    
    <text x="-200" y="-8" font-family="Georgia, serif" font-size="13" fill="white">
      s<tspan baseline-shift="sub" font-size="9">Î¸</tspan>(x) â‰ˆ âˆ‡<tspan baseline-shift="sub" font-size="9">x</tspan>log p(x)
    </text>
    
    <text x="50" y="-8" font-family="Georgia, serif" font-size="13" fill="white">
      L = E<tspan baseline-shift="sub" font-size="9">p</tspan>[||s<tspan baseline-shift="sub" font-size="9">Î¸</tspan> âˆ’ âˆ‡log p||Â²]
    </text>
    
    <text x="300" y="-8" font-family="Georgia, serif" font-size="13" fill="white">
      x<tspan baseline-shift="sub" font-size="9">t+1</tspan> = x<tspan baseline-shift="sub" font-size="9">t</tspan> + Îµs<tspan baseline-shift="sub" font-size="9">Î¸</tspan> + âˆš2ÎµÂ·z
    </text>
    
    <text x="0" y="18" text-anchor="middle" font-family="'Segoe UI', sans-serif" font-size="11" fill="rgba(255,255,255,0.5)">
      Foundation of: DDPM, NCSN, Stable Diffusion, DALLÂ·E 2/3, Imagen, Sora, AlphaFold 3
    </text>
  </g>
</svg>
