<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 550">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f172a"/>
      <stop offset="50%" style="stop-color:#1e1b4b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>
    <linearGradient id="vaeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f472b6"/>
      <stop offset="100%" style="stop-color:#db2777"/>
    </linearGradient>
    <linearGradient id="unetGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#7c3aed"/>
    </linearGradient>
    <linearGradient id="latentGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06b6d4"/>
      <stop offset="100%" style="stop-color:#0891b2"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.4"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>
  
  <rect width="1000" height="550" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="500" y="40" text-anchor="middle" font-family="system-ui, sans-serif" font-size="26" font-weight="700" fill="white" filter="url(#glow)">
    Latent Diffusion Architecture
  </text>
  <text x="500" y="68" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" fill="rgba(255,255,255,0.6)">
    Diffusion in Compressed Latent Space = Speed + Quality
  </text>
  
  <!-- Main Pipeline -->
  <g transform="translate(50, 100)">
    <!-- Input Image -->
    <g transform="translate(0, 100)">
      <rect x="0" y="0" width="80" height="100" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
      <text x="40" y="30" text-anchor="middle" font-size="24">üñºÔ∏è</text>
      <text x="40" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#60a5fa">Image</text>
      <text x="40" y="75" text-anchor="middle" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.6)">512√ó512√ó3</text>
      <text x="40" y="90" text-anchor="middle" font-family="monospace" font-size="7" fill="rgba(255,255,255,0.4)">~786K px</text>
    </g>
    
    <path d="M 90 150 L 130 150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- VAE Encoder -->
    <g transform="translate(140, 80)">
      <rect x="0" y="0" width="100" height="140" rx="10" fill="rgba(244,114,182,0.2)" stroke="#f472b6" stroke-width="2" filter="url(#shadow)"/>
      <text x="50" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#f9a8d4">VAE</text>
      <text x="50" y="50" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#f472b6">Encoder</text>
      <text x="50" y="75" text-anchor="middle" font-size="20">üì¶</text>
      <text x="50" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Compress</text>
      <text x="50" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">8√ó smaller</text>
      <text x="50" y="132" text-anchor="middle" font-family="monospace" font-size="7" fill="rgba(255,255,255,0.4)">frozen</text>
    </g>
    
    <path d="M 250 150 L 290 150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Latent Space -->
    <g transform="translate(300, 90)">
      <rect x="0" y="0" width="90" height="120" rx="8" fill="rgba(6,182,212,0.3)" stroke="#06b6d4" stroke-width="2" filter="url(#shadow)"/>
      <text x="45" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#22d3ee">Latent z</text>
      <text x="45" y="55" text-anchor="middle" font-size="22">üíé</text>
      <text x="45" y="80" text-anchor="middle" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.8)">64√ó64√ó4</text>
      <text x="45" y="100" text-anchor="middle" font-family="monospace" font-size="8" fill="#4ade80">~16K values</text>
      <text x="45" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#fbbf24">48√ó smaller!</text>
    </g>
    
    <path d="M 400 150 L 440 150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Diffusion in Latent Space -->
    <g transform="translate(450, 60)">
      <rect x="0" y="0" width="180" height="180" rx="12" fill="rgba(139,92,246,0.15)" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>
      <text x="90" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="700" fill="#a78bfa">Diffusion U-Net</text>
      <text x="90" y="50" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="rgba(255,255,255,0.6)">in latent space</text>
      
      <!-- Inner process visualization -->
      <g transform="translate(20, 65)">
        <rect x="0" y="0" width="40" height="40" rx="5" fill="#22c55e"/>
        <text x="20" y="28" text-anchor="middle" font-size="16">üíé</text>
      </g>
      <path d="M 65 85 L 95 85" stroke="#ef4444" stroke-width="2" stroke-dasharray="3,3"/>
      <g transform="translate(100, 65)">
        <rect x="0" y="0" width="40" height="40" rx="5" fill="#ef4444"/>
        <text x="20" y="28" text-anchor="middle" font-size="16">üå´Ô∏è</text>
      </g>
      
      <text x="90" y="125" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Add/Remove noise</text>
      <text x="90" y="145" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">T timesteps</text>
      <text x="90" y="165" text-anchor="middle" font-family="system-ui, sans-serif" font-size="8" fill="#fbbf24">‚ö° Much faster!</text>
    </g>
    
    <path d="M 640 150 L 680 150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- VAE Decoder -->
    <g transform="translate(690, 80)">
      <rect x="0" y="0" width="100" height="140" rx="10" fill="rgba(244,114,182,0.2)" stroke="#f472b6" stroke-width="2" filter="url(#shadow)"/>
      <text x="50" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#f9a8d4">VAE</text>
      <text x="50" y="50" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#f472b6">Decoder</text>
      <text x="50" y="75" text-anchor="middle" font-size="20">üì§</text>
      <text x="50" y="100" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">Decompress</text>
      <text x="50" y="115" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="rgba(255,255,255,0.7)">8√ó larger</text>
      <text x="50" y="132" text-anchor="middle" font-family="monospace" font-size="7" fill="rgba(255,255,255,0.4)">frozen</text>
    </g>
    
    <path d="M 800 150 L 840 150" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
    
    <!-- Output Image -->
    <g transform="translate(850, 100)">
      <rect x="0" y="0" width="80" height="100" rx="8" fill="rgba(34,197,94,0.3)" stroke="#22c55e" stroke-width="2" filter="url(#shadow)"/>
      <text x="40" y="30" text-anchor="middle" font-size="24">‚ú®</text>
      <text x="40" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#4ade80">Generated</text>
      <text x="40" y="75" text-anchor="middle" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.6)">512√ó512√ó3</text>
      <text x="40" y="90" text-anchor="middle" font-family="system-ui, sans-serif" font-size="7" fill="#4ade80">High quality!</text>
    </g>
  </g>
  
  <!-- Comparison Box -->
  <g transform="translate(50, 340)">
    <rect x="0" y="0" width="420" height="180" rx="12" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.1)"/>
    
    <text x="210" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="white">
      üöÄ Why Latent Space?
    </text>
    
    <g transform="translate(30, 50)">
      <rect x="0" y="0" width="170" height="110" rx="8" fill="rgba(239,68,68,0.1)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#f87171">Pixel Space</text>
      <text x="85" y="50" text-anchor="middle" font-family="monospace" font-size="10" fill="rgba(255,255,255,0.7)">512√ó512√ó3</text>
      <text x="85" y="70" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="rgba(255,255,255,0.6)">= 786,432 values</text>
      <text x="85" y="95" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#ef4444">‚ùå Slow, memory heavy</text>
    </g>
    
    <g transform="translate(220, 50)">
      <rect x="0" y="0" width="170" height="110" rx="8" fill="rgba(34,197,94,0.1)" stroke="#22c55e" stroke-width="1"/>
      <text x="85" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#4ade80">Latent Space</text>
      <text x="85" y="50" text-anchor="middle" font-family="monospace" font-size="10" fill="rgba(255,255,255,0.7)">64√ó64√ó4</text>
      <text x="85" y="70" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="rgba(255,255,255,0.6)">= 16,384 values</text>
      <text x="85" y="95" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" fill="#22c55e">‚úì 48√ó faster!</text>
    </g>
  </g>
  
  <!-- Key Components Box -->
  <g transform="translate(530, 340)">
    <rect x="0" y="0" width="420" height="180" rx="12" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.1)"/>
    
    <text x="210" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="white">
      üîß Key Components
    </text>
    
    <g transform="translate(30, 50)">
      <text font-family="system-ui, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)">
        <tspan x="0" y="0" fill="#f472b6">VAE (Autoencoder)</tspan>
        <tspan x="20" y="20" fill="rgba(255,255,255,0.6)">‚Ä¢ Pretrained, frozen during diffusion</tspan>
        <tspan x="20" y="38" fill="rgba(255,255,255,0.6)">‚Ä¢ Encodes 8√ó downsampling</tspan>
      </text>
    </g>
    
    <g transform="translate(220, 50)">
      <text font-family="system-ui, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)">
        <tspan x="0" y="0" fill="#8b5cf6">U-Net</tspan>
        <tspan x="20" y="20" fill="rgba(255,255,255,0.6)">‚Ä¢ Works on 64√ó64 latents</tspan>
        <tspan x="20" y="38" fill="rgba(255,255,255,0.6)">‚Ä¢ Time + text conditioning</tspan>
      </text>
    </g>
    
    <g transform="translate(30, 110)">
      <text font-family="system-ui, sans-serif" font-size="11" fill="rgba(255,255,255,0.9)">
        <tspan x="0" y="0" fill="#fbbf24">Scaling Factor</tspan>
        <tspan x="20" y="20" fill="rgba(255,255,255,0.6)">‚Ä¢ z = encoder(x) √ó 0.18215</tspan>
        <tspan x="20" y="38" fill="rgba(255,255,255,0.6)">‚Ä¢ Normalizes latent variance</tspan>
      </text>
    </g>
  </g>
</svg>

