<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">
  <defs>
    <linearGradient id="frozenGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3B82F6"/>
      <stop offset="100%" style="stop-color:#6366F1"/>
    </linearGradient>
    <linearGradient id="trainableGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="300" fill="#0F172A"/>
  
  <!-- Title -->
  <text x="300" y="22" font-family="system-ui, sans-serif" font-size="14" fill="#F1F5F9" text-anchor="middle" font-weight="bold">ControlNet Architecture</text>
  
  <!-- Frozen Base U-Net -->
  <rect x="30" y="35" width="540" height="100" rx="10" fill="#1E293B" stroke="#3B82F6" stroke-width="2"/>
  <text x="300" y="55" font-family="system-ui, sans-serif" font-size="11" fill="#3B82F6" text-anchor="middle" font-weight="bold">FROZEN BASE U-NET ðŸ”’</text>
  
  <!-- Encoder/Middle/Decoder in frozen -->
  <rect x="60" y="70" width="80" height="45" rx="6" fill="url(#frozenGrad)"/>
  <text x="100" y="97" font-family="system-ui, sans-serif" font-size="9" fill="white" text-anchor="middle" font-weight="bold">Encoder</text>
  
  <rect x="200" y="70" width="80" height="45" rx="6" fill="url(#frozenGrad)"/>
  <text x="240" y="97" font-family="system-ui, sans-serif" font-size="9" fill="white" text-anchor="middle" font-weight="bold">Middle</text>
  
  <rect x="340" y="70" width="80" height="45" rx="6" fill="url(#frozenGrad)"/>
  <text x="380" y="97" font-family="system-ui, sans-serif" font-size="9" fill="white" text-anchor="middle" font-weight="bold">Decoder</text>
  
  <!-- Arrows between frozen components -->
  <line x1="145" y1="92" x2="195" y2="92" stroke="#64748B" stroke-width="2"/>
  <polygon points="195,92 188,87 188,97" fill="#64748B"/>
  <line x1="285" y1="92" x2="335" y2="92" stroke="#64748B" stroke-width="2"/>
  <polygon points="335,92 328,87 328,97" fill="#64748B"/>
  
  <!-- + ADD circles -->
  <circle cx="460" cy="92" r="15" fill="#8B5CF6"/>
  <text x="460" y="96" font-family="system-ui, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">+</text>
  <circle cx="520" cy="92" r="15" fill="#8B5CF6"/>
  <text x="520" y="96" font-family="system-ui, sans-serif" font-size="10" fill="white" text-anchor="middle" font-weight="bold">+</text>
  
  <line x1="425" y1="92" x2="442" y2="92" stroke="#64748B" stroke-width="2"/>
  <line x1="478" y1="92" x2="502" y2="92" stroke="#64748B" stroke-width="2"/>
  
  <!-- Zero Conv boxes -->
  <rect x="440" y="145" width="50" height="25" rx="4" fill="#F59E0B"/>
  <text x="465" y="162" font-family="system-ui, sans-serif" font-size="7" fill="white" text-anchor="middle" font-weight="bold">0-Conv</text>
  
  <rect x="500" y="145" width="50" height="25" rx="4" fill="#F59E0B"/>
  <text x="525" y="162" font-family="system-ui, sans-serif" font-size="7" fill="white" text-anchor="middle" font-weight="bold">0-Conv</text>
  
  <!-- Arrows from zero conv -->
  <line x1="465" y1="140" x2="465" y2="110" stroke="#F59E0B" stroke-width="2" stroke-dasharray="4,2"/>
  <line x1="525" y1="140" x2="525" y2="110" stroke="#F59E0B" stroke-width="2" stroke-dasharray="4,2"/>
  
  <!-- Trainable ControlNet -->
  <rect x="30" y="180" width="540" height="100" rx="10" fill="#1E293B" stroke="#10B981" stroke-width="2"/>
  <text x="300" y="200" font-family="system-ui, sans-serif" font-size="11" fill="#10B981" text-anchor="middle" font-weight="bold">TRAINABLE CONTROLNET âœ“</text>
  
  <!-- ControlNet encoder and middle -->
  <rect x="60" y="215" width="150" height="40" rx="6" fill="url(#trainableGrad)"/>
  <text x="135" y="240" font-family="system-ui, sans-serif" font-size="9" fill="white" text-anchor="middle" font-weight="bold">Encoder Copy</text>
  
  <rect x="230" y="215" width="100" height="40" rx="6" fill="url(#trainableGrad)"/>
  <text x="280" y="240" font-family="system-ui, sans-serif" font-size="9" fill="white" text-anchor="middle" font-weight="bold">Middle Copy</text>
  
  <!-- Control input -->
  <rect x="400" y="215" width="140" height="40" rx="6" fill="#1E293B" stroke="#F59E0B" stroke-width="2"/>
  <text x="470" y="235" font-family="system-ui, sans-serif" font-size="9" fill="#F59E0B" text-anchor="middle" font-weight="bold">Control Image</text>
  <text x="470" y="250" font-family="system-ui, sans-serif" font-size="7" fill="#94A3B8" text-anchor="middle">Edges/Depth/Pose</text>
  
  <!-- Arrows connecting trainable to zero conv -->
  <line x1="215" y1="215" x2="465" y2="175" stroke="#10B981" stroke-width="2"/>
  <line x1="335" y1="215" x2="525" y2="175" stroke="#10B981" stroke-width="2"/>
</svg>

