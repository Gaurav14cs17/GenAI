<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="bgCM" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d0d1a"/>
      <stop offset="50%" style="stop-color:#1a1a3a"/>
      <stop offset="100%" style="stop-color:#2a1a4a"/>
    </linearGradient>
    <linearGradient id="trajGradCM" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f43f5e"/>
      <stop offset="50%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#a855f7"/>
    </linearGradient>
    <linearGradient id="mapGradCM" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#22c55e"/>
      <stop offset="100%" style="stop-color:#10b981"/>
    </linearGradient>
    <filter id="glowCM">
      <feGaussianBlur stdDeviation="4" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <marker id="arrowCM" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#22c55e"/>
    </marker>
  </defs>
  
  <rect width="900" height="500" fill="url(#bgCM)"/>
  
  <!-- Animated background particles -->
  <g fill="#a855f7" opacity="0.3">
    <circle cx="100" cy="100" r="2"><animate attributeName="opacity" values="0.1;0.5;0.1" dur="3s" repeatCount="indefinite"/></circle>
    <circle cx="800" cy="150" r="2"><animate attributeName="opacity" values="0.2;0.6;0.2" dur="4s" repeatCount="indefinite"/></circle>
    <circle cx="200" cy="400" r="2"><animate attributeName="opacity" values="0.3;0.7;0.3" dur="2.5s" repeatCount="indefinite"/></circle>
    <circle cx="700" cy="350" r="2"><animate attributeName="opacity" values="0.2;0.5;0.2" dur="3.5s" repeatCount="indefinite"/></circle>
  </g>
  
  <text x="450" y="45" text-anchor="middle" font-family="system-ui" font-size="32" font-weight="700" fill="white" filter="url(#glowCM)">
    ⚡ Consistency Models
  </text>
  <text x="450" y="75" text-anchor="middle" font-family="system-ui" font-size="15" fill="rgba(255,255,255,0.7)">
    Any point on the trajectory maps directly to the clean data — single-step generation!
  </text>
  
  <!-- Main visualization -->
  <g transform="translate(450, 280)">
    <!-- Diffusion trajectory curve -->
    <path d="M -350,100 Q -250,50 -150,0 Q -50,-50 50,-80 Q 150,-100 250,-110 Q 300,-115 350,-115" 
          stroke="url(#trajGradCM)" stroke-width="4" fill="none" filter="url(#glowCM)"/>
    
    <text x="-350" y="130" text-anchor="middle" font-family="system-ui" font-size="12" fill="#f43f5e">Noisy</text>
    <text x="350" y="-95" text-anchor="middle" font-family="system-ui" font-size="12" fill="#a855f7">Pure Noise</text>
    
    <!-- Points on trajectory -->
    <g>
      <!-- Point 1 - high noise -->
      <circle cx="-350" cy="100" r="12" fill="#f43f5e" filter="url(#glowCM)"/>
      <text x="-350" y="150" text-anchor="middle" font-family="monospace" font-size="11" fill="#fb7185">x_ε</text>
      
      <!-- Point 2 -->
      <circle cx="-150" cy="0" r="10" fill="#ec4899"/>
      <text x="-150" y="-25" text-anchor="middle" font-family="monospace" font-size="10" fill="#f472b6">x_t</text>
      
      <!-- Point 3 -->
      <circle cx="50" cy="-80" r="10" fill="#a855f7"/>
      <text x="50" y="-105" text-anchor="middle" font-family="monospace" font-size="10" fill="#c084fc">x_t'</text>
      
      <!-- Point 4 -->
      <circle cx="250" cy="-110" r="10" fill="#8b5cf6"/>
      <text x="250" y="-135" text-anchor="middle" font-family="monospace" font-size="10" fill="#a78bfa">x_t''</text>
      
      <!-- Point 5 - pure noise -->
      <circle cx="350" cy="-115" r="12" fill="#7c3aed" filter="url(#glowCM)"/>
      <text x="350" y="-140" text-anchor="middle" font-family="monospace" font-size="11" fill="#a78bfa">x_T</text>
    </g>
    
    <!-- Consistency mapping arrows - all pointing to same target -->
    <g>
      <!-- Target point (clean data) -->
      <circle cx="-350" cy="180" r="18" fill="#22c55e" filter="url(#glowCM)"/>
      <text x="-350" y="186" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="700" fill="white">x₀</text>
      <text x="-350" y="220" text-anchor="middle" font-family="system-ui" font-size="12" fill="#4ade80">Clean Data</text>
      
      <!-- Curved arrows from each point to x0 -->
      <g stroke="#22c55e" stroke-width="2" fill="none" stroke-dasharray="6,4">
        <path d="M -350,112 L -350,158" marker-end="url(#arrowCM)"/>
        <path d="M -155,10 Q -200,120 -340,165" marker-end="url(#arrowCM)"/>
        <path d="M 40,-75 Q -50,80 -335,168" marker-end="url(#arrowCM)"/>
        <path d="M 240,-105 Q 50,60 -330,172" marker-end="url(#arrowCM)"/>
        <path d="M 338,-110 Q 100,80 -325,175" marker-end="url(#arrowCM)"/>
      </g>
    </g>
    
    <!-- Function labels -->
    <g transform="translate(100, 80)">
      <rect x="-80" y="-18" width="160" height="36" rx="8" fill="rgba(34,197,94,0.2)" stroke="#22c55e"/>
      <text y="5" text-anchor="middle" font-family="serif" font-size="14" fill="#4ade80">f_θ(x_t, t) = x₀</text>
    </g>
  </g>
  
  <!-- Key property box -->
  <g transform="translate(450, 450)">
    <rect x="-380" y="-35" width="760" height="65" rx="12" fill="rgba(255,255,255,0.03)" stroke="rgba(255,255,255,0.1)"/>
    <text y="-10" text-anchor="middle" font-family="system-ui" font-size="13" font-weight="600" fill="#f472b6">Self-Consistency Property</text>
    <text y="15" text-anchor="middle" font-family="serif" font-size="16" fill="#a78bfa">
      f_θ(x_t, t) = f_θ(x_t', t') for all t, t' on the same trajectory
    </text>
  </g>
  
  <!-- Stats badges -->
  <g transform="translate(130, 130)">
    <rect x="-60" y="-25" width="120" height="50" rx="10" fill="rgba(34,197,94,0.15)" stroke="#22c55e"/>
    <text y="-5" text-anchor="middle" font-family="system-ui" font-size="24" font-weight="700" fill="#22c55e">1</text>
    <text y="15" text-anchor="middle" font-family="system-ui" font-size="11" fill="#4ade80">Step Generation</text>
  </g>
  
  <g transform="translate(770, 130)">
    <rect x="-60" y="-25" width="120" height="50" rx="10" fill="rgba(168,85,247,0.15)" stroke="#a855f7"/>
    <text y="-5" text-anchor="middle" font-family="system-ui" font-size="24" font-weight="700" fill="#a855f7">100×</text>
    <text y="15" text-anchor="middle" font-family="system-ui" font-size="11" fill="#c084fc">Faster</text>
  </g>
</svg>

