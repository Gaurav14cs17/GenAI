<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 520">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0f1a"/>
      <stop offset="50%" style="stop-color:#0f1a2a"/>
      <stop offset="100%" style="stop-color:#0a1520"/>
    </linearGradient>
    
    <linearGradient id="memoryHighGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="100%" style="stop-color:#dc2626"/>
    </linearGradient>
    
    <linearGradient id="memoryLowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    
    <linearGradient id="optimGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#a855f7"/>
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="520" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="500" y="45" text-anchor="middle" font-family="system-ui" font-size="30" font-weight="800" fill="white" filter="url(#glow)">
    Memory-Efficient Diffusion
  </text>
  <text x="500" y="75" text-anchor="middle" font-family="system-ui" font-size="14" fill="rgba(255,255,255,0.6)">
    Run Stable Diffusion on Consumer GPUs â€” From 24GB to 6GB VRAM
  </text>
  
  <!-- Before/After Comparison -->
  <g transform="translate(80, 110)">
    <!-- Before (Without Optimization) -->
    <g transform="translate(0, 0)">
      <text x="150" y="0" text-anchor="middle" font-family="system-ui" font-size="16" font-weight="700" fill="#fca5a5">
        Without Optimization
      </text>
      
      <!-- Memory bar container -->
      <rect y="20" width="300" height="200" rx="12" fill="rgba(239,68,68,0.1)" stroke="#ef4444" stroke-width="2"/>
      
      <!-- Memory usage visualization -->
      <g transform="translate(20, 40)">
        <text font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">VRAM Usage (24GB GPU)</text>
        
        <!-- U-Net -->
        <rect y="20" width="220" height="35" rx="4" fill="url(#memoryHighGrad)" opacity="0.8"/>
        <text x="110" y="43" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">U-Net Activations: 16 GB</text>
        
        <!-- Attention -->
        <rect y="60" width="170" height="30" rx="4" fill="#f87171" opacity="0.7"/>
        <text x="85" y="80" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">Attention Maps: 8 GB</text>
        
        <!-- Weights -->
        <rect y="95" width="80" height="25" rx="4" fill="#fca5a5" opacity="0.6"/>
        <text x="40" y="112" text-anchor="middle" font-family="system-ui" font-size="9" fill="white">Weights: 4 GB</text>
        
        <!-- VAE -->
        <rect y="125" width="40" height="20" rx="4" fill="#fecaca" opacity="0.5"/>
        <text x="20" y="139" text-anchor="middle" font-family="system-ui" font-size="8" fill="#7f1d1d">VAE</text>
      </g>
      
      <!-- Total -->
      <text x="150" y="190" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="700" fill="#fca5a5">
        Total: ~24 GB ðŸ”´
      </text>
      <text x="150" y="210" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">
        Requires A100/RTX 3090
      </text>
    </g>
    
    <!-- Arrow -->
    <g transform="translate(320, 110)">
      <path d="M 0,0 L 80,0" stroke="url(#optimGrad)" stroke-width="4" marker-end="url(#arrowPurple)"/>
      <rect x="10" y="-30" width="60" height="60" rx="10" fill="rgba(139,92,246,0.2)" stroke="#8b5cf6" stroke-width="2"/>
      <text x="40" y="-5" text-anchor="middle" font-family="system-ui" font-size="10" font-weight="600" fill="#c4b5fd">Apply</text>
      <text x="40" y="10" text-anchor="middle" font-family="system-ui" font-size="10" font-weight="600" fill="#c4b5fd">Optim</text>
    </g>
    
    <!-- After (With Optimization) -->
    <g transform="translate(420, 0)">
      <text x="150" y="0" text-anchor="middle" font-family="system-ui" font-size="16" font-weight="700" fill="#6ee7b7">
        With Optimization
      </text>
      
      <!-- Memory bar container -->
      <rect y="20" width="300" height="200" rx="12" fill="rgba(16,185,129,0.1)" stroke="#10b981" stroke-width="2"/>
      
      <!-- Memory usage visualization -->
      <g transform="translate(20, 40)">
        <text font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">VRAM Usage (8GB GPU)</text>
        
        <!-- U-Net (FP16) -->
        <rect y="20" width="100" height="35" rx="4" fill="url(#memoryLowGrad)" opacity="0.8"/>
        <text x="50" y="43" text-anchor="middle" font-family="system-ui" font-size="10" fill="white">U-Net FP16: 2 GB</text>
        
        <!-- Attention Sliced -->
        <rect y="60" width="80" height="30" rx="4" fill="#34d399" opacity="0.7"/>
        <text x="40" y="80" text-anchor="middle" font-family="system-ui" font-size="9" fill="white">Attn Sliced: 2 GB</text>
        
        <!-- Weights -->
        <rect y="95" width="50" height="25" rx="4" fill="#6ee7b7" opacity="0.6"/>
        <text x="25" y="112" text-anchor="middle" font-family="system-ui" font-size="8" fill="white">Wts: 1.7 GB</text>
        
        <!-- VAE Tiled -->
        <rect y="125" width="30" height="20" rx="4" fill="#a7f3d0" opacity="0.5"/>
        <text x="15" y="139" text-anchor="middle" font-family="system-ui" font-size="7" fill="#064e3b">VAE</text>
      </g>
      
      <!-- Total -->
      <text x="150" y="190" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="700" fill="#6ee7b7">
        Total: ~6 GB ðŸŸ¢
      </text>
      <text x="150" y="210" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">
        Works on RTX 3060/2080
      </text>
    </g>
    
    <!-- Savings indicator -->
    <g transform="translate(830, 80)">
      <rect x="-50" y="-30" width="100" height="80" rx="10" fill="rgba(16,185,129,0.2)" stroke="#10b981" stroke-width="2"/>
      <text x="0" y="-5" text-anchor="middle" font-family="system-ui" font-size="24" font-weight="800" fill="#6ee7b7">75%</text>
      <text x="0" y="15" text-anchor="middle" font-family="system-ui" font-size="11" fill="#a7f3d0">Memory</text>
      <text x="0" y="30" text-anchor="middle" font-family="system-ui" font-size="11" fill="#a7f3d0">Saved!</text>
    </g>
  </g>
  
  <!-- Optimization Techniques -->
  <g transform="translate(50, 360)">
    <text x="450" y="0" text-anchor="middle" font-family="system-ui" font-size="16" font-weight="700" fill="white">
      Key Optimization Techniques
    </text>
    
    <!-- Technique cards -->
    <g transform="translate(0, 20)">
      <!-- FP16 -->
      <g transform="translate(0, 0)">
        <rect width="170" height="100" rx="10" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="1.5"/>
        <text x="85" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#93c5fd">Mixed Precision</text>
        <text x="85" y="45" text-anchor="middle" font-family="system-ui" font-size="22" fill="#60a5fa">FP16</text>
        <text x="85" y="65" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">50% memory</text>
        <text x="85" y="80" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">+20% speed</text>
      </g>
      
      <!-- Attention Slicing -->
      <g transform="translate(190, 0)">
        <rect width="170" height="100" rx="10" fill="rgba(245,158,11,0.15)" stroke="#f59e0b" stroke-width="1.5"/>
        <text x="85" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#fcd34d">Attention Slicing</text>
        <text x="85" y="50" text-anchor="middle" font-family="system-ui" font-size="14" fill="#fbbf24">Chunked QKV</text>
        <text x="85" y="70" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">75% less peak</text>
        <text x="85" y="85" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">Sequential compute</text>
      </g>
      
      <!-- Gradient Checkpointing -->
      <g transform="translate(380, 0)">
        <rect width="170" height="100" rx="10" fill="rgba(139,92,246,0.15)" stroke="#8b5cf6" stroke-width="1.5"/>
        <text x="85" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#c4b5fd">Grad Checkpoint</text>
        <text x="85" y="50" text-anchor="middle" font-family="system-ui" font-size="14" fill="#a855f7">Recompute</text>
        <text x="85" y="70" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">70% less memory</text>
        <text x="85" y="85" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">Trade for compute</text>
      </g>
      
      <!-- CPU Offload -->
      <g transform="translate(570, 0)">
        <rect width="170" height="100" rx="10" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="1.5"/>
        <text x="85" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#6ee7b7">CPU Offload</text>
        <text x="85" y="50" text-anchor="middle" font-family="system-ui" font-size="14" fill="#34d399">Sequential</text>
        <text x="85" y="70" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">Minimal VRAM</text>
        <text x="85" y="85" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">Slower inference</text>
      </g>
      
      <!-- VAE Tiling -->
      <g transform="translate(760, 0)">
        <rect width="170" height="100" rx="10" fill="rgba(236,72,153,0.15)" stroke="#ec4899" stroke-width="1.5"/>
        <text x="85" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#f9a8d4">VAE Tiling</text>
        <text x="85" y="50" text-anchor="middle" font-family="system-ui" font-size="14" fill="#f472b6">Patch Decode</text>
        <text x="85" y="70" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">High-res support</text>
        <text x="85" y="85" text-anchor="middle" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">1024px+ possible</text>
      </g>
    </g>
  </g>
  
  <defs>
    <marker id="arrowPurple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#a855f7"/>
    </marker>
  </defs>
</svg>
