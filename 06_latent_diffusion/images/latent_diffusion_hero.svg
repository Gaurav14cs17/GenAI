<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 480">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0515"/>
      <stop offset="25%" style="stop-color:#150a25"/>
      <stop offset="50%" style="stop-color:#0f1a2a"/>
      <stop offset="75%" style="stop-color:#0a1520"/>
      <stop offset="100%" style="stop-color:#051010"/>
    </linearGradient>
    
    <linearGradient id="encoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#6366f1"/>
    </linearGradient>
    
    <linearGradient id="latentGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899"/>
      <stop offset="100%" style="stop-color:#f472b6"/>
    </linearGradient>
    
    <linearGradient id="decoderGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#34d399"/>
    </linearGradient>
    
    <linearGradient id="textGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#fbbf24"/>
    </linearGradient>
    
    <linearGradient id="unetGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6"/>
      <stop offset="100%" style="stop-color:#a855f7"/>
    </linearGradient>
    
    <linearGradient id="diffusionGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ef4444"/>
      <stop offset="50%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#10b981"/>
    </linearGradient>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="5" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="softGlow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <pattern id="gridPattern" width="30" height="30" patternUnits="userSpaceOnUse">
      <path d="M 30 0 L 0 0 0 30" fill="none" stroke="rgba(255,255,255,0.02)" stroke-width="1"/>
    </pattern>
    
    <marker id="arrowBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
    
    <marker id="arrowPink" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f472b6"/>
    </marker>
    
    <marker id="arrowGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34d399"/>
    </marker>
    
    <marker id="arrowYellow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#fbbf24"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1000" height="480" fill="url(#bgGrad)"/>
  <rect width="1000" height="480" fill="url(#gridPattern)"/>
  
  <!-- Decorative circles -->
  <circle cx="100" cy="80" r="150" fill="url(#encoderGrad)" opacity="0.04"/>
  <circle cx="900" cy="400" r="180" fill="url(#decoderGrad)" opacity="0.04"/>
  <circle cx="500" cy="240" r="200" fill="url(#latentGrad)" opacity="0.03"/>
  
  <!-- Title -->
  <text x="500" y="50" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="36" font-weight="800" fill="white" filter="url(#glow)">
    Latent Diffusion Models
  </text>
  <text x="500" y="80" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="rgba(255,255,255,0.6)">
    The Architecture Behind Stable Diffusion ‚Äî Efficient High-Resolution Image Generation
  </text>
  
  <!-- Main Architecture Diagram -->
  <g transform="translate(50, 120)">
    
    <!-- Input Image -->
    <g transform="translate(0, 100)">
      <rect x="-10" y="-50" width="100" height="100" rx="10" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="2"/>
      <!-- Image representation -->
      <rect x="10" y="-30" width="60" height="45" rx="4" fill="rgba(59,130,246,0.3)"/>
      <circle cx="30" cy="20" r="10" fill="#60a5fa"/>
      <rect x="45" y="10" width="25" height="18" rx="3" fill="#60a5fa"/>
      <text x="40" y="70" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#93c5fd">Image</text>
      <text x="40" y="88" text-anchor="middle" font-family="monospace" font-size="10" fill="rgba(255,255,255,0.4)">512√ó512√ó3</text>
    </g>
    
    <!-- Arrow to Encoder -->
    <path d="M 100,100 L 130,100" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowBlue)"/>
    
    <!-- Encoder -->
    <g transform="translate(140, 60)">
      <rect width="100" height="80" rx="10" fill="rgba(59,130,246,0.2)" stroke="url(#encoderGrad)" stroke-width="2"/>
      <text x="50" y="30" text-anchor="middle" font-family="system-ui" font-size="13" font-weight="700" fill="#93c5fd">Encoder</text>
      <text x="50" y="50" text-anchor="middle" font-family="serif" font-size="12" font-style="italic" fill="rgba(255,255,255,0.6)">Œµ(x)</text>
      <text x="50" y="70" text-anchor="middle" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.4)">VAE ~34M</text>
    </g>
    
    <!-- Arrow to Latent -->
    <path d="M 250,100 L 280,100" stroke="#6366f1" stroke-width="2" marker-end="url(#arrowBlue)"/>
    
    <!-- Latent Diffusion Space -->
    <g transform="translate(290, 10)">
      <rect width="340" height="180" rx="15" fill="rgba(236,72,153,0.08)" stroke="url(#latentGrad)" stroke-width="2" stroke-dasharray="8,4"/>
      <text x="170" y="25" text-anchor="middle" font-family="system-ui" font-size="14" font-weight="700" fill="#f472b6">Latent Space Diffusion</text>
      
      <!-- Noisy latent -->
      <g transform="translate(30, 45)">
        <rect width="70" height="70" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1.5"/>
        <!-- Noise dots -->
        <g fill="rgba(255,255,255,0.5)">
          <circle cx="15" cy="15" r="2"/><circle cx="35" cy="20" r="2"/><circle cx="55" cy="12" r="2"/>
          <circle cx="20" cy="35" r="2"/><circle cx="45" cy="40" r="2"/><circle cx="25" cy="55" r="2"/>
          <circle cx="50" cy="55" r="2"/><circle cx="40" cy="25" r="2"/><circle cx="10" cy="45" r="2"/>
        </g>
        <text x="35" y="88" text-anchor="middle" font-family="monospace" font-size="9" fill="#fca5a5">z_T</text>
      </g>
      
      <!-- U-Net -->
      <g transform="translate(130, 50)">
        <rect width="80" height="90" rx="10" fill="rgba(139,92,246,0.25)" stroke="url(#unetGrad)" stroke-width="2" filter="url(#softGlow)"/>
        <text x="40" y="25" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="700" fill="#c4b5fd">U-Net</text>
        <!-- U-shape -->
        <g transform="translate(15, 35)">
          <path d="M 0,0 L 0,30 L 50,30 L 50,0" stroke="#a855f7" stroke-width="3" fill="none"/>
          <circle cx="0" cy="0" r="4" fill="#8b5cf6"/>
          <circle cx="0" cy="15" r="3" fill="#7c3aed"/>
          <circle cx="0" cy="30" r="3" fill="#6d28d9"/>
          <circle cx="50" cy="0" r="4" fill="#8b5cf6"/>
          <circle cx="50" cy="15" r="3" fill="#7c3aed"/>
          <circle cx="50" cy="30" r="3" fill="#6d28d9"/>
        </g>
        <text x="40" y="80" text-anchor="middle" font-family="monospace" font-size="8" fill="rgba(255,255,255,0.4)">~860M</text>
      </g>
      
      <!-- Clean latent -->
      <g transform="translate(240, 45)">
        <rect width="70" height="70" rx="8" fill="rgba(16,185,129,0.2)" stroke="#10b981" stroke-width="1.5"/>
        <!-- Clean image representation -->
        <rect x="12" y="12" width="46" height="32" rx="3" fill="rgba(16,185,129,0.4)"/>
        <circle cx="25" cy="48" r="8" fill="#34d399"/>
        <rect x="38" y="42" width="18" height="14" rx="2" fill="#34d399"/>
        <text x="35" y="88" text-anchor="middle" font-family="monospace" font-size="9" fill="#6ee7b7">z_0</text>
      </g>
      
      <!-- Diffusion arrows -->
      <path d="M 105,80 L 120,80" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
      <path d="M 220,80 L 235,80" stroke="rgba(255,255,255,0.4)" stroke-width="2"/>
      
      <text x="170" y="170" text-anchor="middle" font-family="monospace" font-size="11" fill="rgba(255,255,255,0.5)">64√ó64√ó4 (48√ó smaller!)</text>
    </g>
    
    <!-- Text Conditioning -->
    <g transform="translate(330, -50)">
      <rect width="220" height="50" rx="8" fill="rgba(245,158,11,0.15)" stroke="url(#textGrad)" stroke-width="1.5"/>
      <text x="110" y="20" text-anchor="middle" font-family="system-ui" font-size="11" font-weight="600" fill="#fcd34d">üìù Text Conditioning (CLIP)</text>
      <text x="110" y="38" text-anchor="middle" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.5)">"A cat wearing a wizard hat"</text>
      
      <!-- Arrow down to U-Net -->
      <path d="M 110,50 L 110,80" stroke="#fbbf24" stroke-width="1.5" stroke-dasharray="4,2" marker-end="url(#arrowYellow)"/>
    </g>
    
    <!-- Arrow to Decoder -->
    <path d="M 640,100 L 670,100" stroke="#34d399" stroke-width="2" marker-end="url(#arrowGreen)"/>
    
    <!-- Decoder -->
    <g transform="translate(680, 60)">
      <rect width="100" height="80" rx="10" fill="rgba(16,185,129,0.2)" stroke="url(#decoderGrad)" stroke-width="2"/>
      <text x="50" y="30" text-anchor="middle" font-family="system-ui" font-size="13" font-weight="700" fill="#6ee7b7">Decoder</text>
      <text x="50" y="50" text-anchor="middle" font-family="serif" font-size="12" font-style="italic" fill="rgba(255,255,255,0.6)">D(z)</text>
      <text x="50" y="70" text-anchor="middle" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.4)">VAE ~49M</text>
    </g>
    
    <!-- Arrow to Output -->
    <path d="M 790,100 L 820,100" stroke="#34d399" stroke-width="2" marker-end="url(#arrowGreen)"/>
    
    <!-- Output Image -->
    <g transform="translate(830, 100)">
      <rect x="-10" y="-50" width="100" height="100" rx="10" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="2"/>
      <!-- Generated image representation -->
      <rect x="10" y="-30" width="60" height="45" rx="4" fill="rgba(16,185,129,0.3)"/>
      <circle cx="30" cy="20" r="10" fill="#34d399"/>
      <polygon points="20,8 30,-2 40,8" fill="#22c55e"/>
      <rect x="45" y="10" width="25" height="18" rx="3" fill="#34d399"/>
      <text x="40" y="70" text-anchor="middle" font-family="system-ui" font-size="12" font-weight="600" fill="#6ee7b7">Output</text>
      <text x="40" y="88" text-anchor="middle" font-family="monospace" font-size="10" fill="rgba(255,255,255,0.4)">512√ó512√ó3</text>
    </g>
  </g>
  
  <!-- Key Benefits -->
  <g transform="translate(50, 400)">
    <rect width="900" height="65" rx="12" fill="rgba(0,0,0,0.4)" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
    
    <!-- Benefit 1 -->
    <g transform="translate(70, 35)">
      <circle r="15" fill="rgba(59,130,246,0.3)"/>
      <text y="5" text-anchor="middle" font-family="system-ui" font-size="14" fill="#60a5fa">‚ö°</text>
      <text x="30" y="0" font-family="system-ui" font-size="12" font-weight="600" fill="white">48√ó Compression</text>
      <text x="30" y="16" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">786K ‚Üí 16K dimensions</text>
    </g>
    
    <!-- Benefit 2 -->
    <g transform="translate(280, 35)">
      <circle r="15" fill="rgba(139,92,246,0.3)"/>
      <text y="5" text-anchor="middle" font-family="system-ui" font-size="14" fill="#a78bfa">üéØ</text>
      <text x="30" y="0" font-family="system-ui" font-size="12" font-weight="600" fill="white">High Quality</text>
      <text x="30" y="16" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">State-of-the-art FID</text>
    </g>
    
    <!-- Benefit 3 -->
    <g transform="translate(480, 35)">
      <circle r="15" fill="rgba(245,158,11,0.3)"/>
      <text y="5" text-anchor="middle" font-family="system-ui" font-size="14" fill="#fbbf24">üí¨</text>
      <text x="30" y="0" font-family="system-ui" font-size="12" font-weight="600" fill="white">Text Control</text>
      <text x="30" y="16" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">Cross-attention + CLIP</text>
    </g>
    
    <!-- Benefit 4 -->
    <g transform="translate(680, 35)">
      <circle r="15" fill="rgba(16,185,129,0.3)"/>
      <text y="5" text-anchor="middle" font-family="system-ui" font-size="14" fill="#34d399">üíæ</text>
      <text x="30" y="0" font-family="system-ui" font-size="12" font-weight="600" fill="white">Consumer GPUs</text>
      <text x="30" y="16" font-family="system-ui" font-size="10" fill="rgba(255,255,255,0.5)">6-8GB VRAM</text>
    </g>
  </g>
</svg>
